<% player_id = SecureRandom.hex(4)  %>

<div class="jplayer-wrapper">
  <div id="jplayer_<%= player_id %>" class="jp-jplayer"></div>
  <div id="jp_container_<%= player_id %>" class="jp-audio" role="application" aria-label="media player">
    <div class="jp-type-single">
      <div class="jp-gui jp-interface">
        <div class="jp-controls-holder">
          <div class="jp-controls">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 43 43">
              <defs>
                <linearGradient id="playButton__gradient12" x1="0%" y1="0%" x2="0%" y2="100%" spreadMethod="pad">
                  <stop offset="0%" stop-color="#ff5500" stop-opacity="1"></stop>
                  <stop offset="100%" stop-color="#ff2200" stop-opacity="1"></stop>
                </linearGradient>
              </defs>
              <circle fill="url(#playButton__gradient12)" stroke="#cc4400" cx="21.5" cy="21.5" r="21"></circle>
              <circle class="playButton__overlay" fill="#000" fill-opacity="0.08" stroke="#cc4400" cx="21.5" cy="21.5" r="21"></circle>
              <path class="playButton__play" fill="#fff" d="M31,21.5L17,33l2.5-11.5L17,10L31,21.5z"></path>
              <g fill="#fff" class="playButton__pause">
                <rect x="15" y="12" width="5" height="19"></rect>
                <rect x="23" y="12" width="5" height="19"></rect>
              </g>
            </svg>

          </div>
        </div>
      </div>
      <div class="jp-details">
        <div class="jp-title" aria-label="title">&nbsp;</div>
      </div>
      <div class="jp-no-solution">
        <span>Update Required</span>
        To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
      </div>
    </div>
  </div>
</div>
<script>
$(document).ready(function() {

    $("#jplayer_<%= player_id %>").jPlayer({
        ready: function(event) {
            $(this).jPlayer("setMedia",
                            {
                              title: '<%= audio_name %>',
                              mp3: '<%= audio_file %>'
                             });
        },
        play: function() { // To avoid multiple jPlayers playing together.
          $(this).jPlayer("pauseOthers");
        },
        swfPath: "http://jplayer.org/latest/dist/jplayer",
        cssSelectorAncestor: "#jp_container_<%= player_id %>",
        globalVolume: true,
        supplied: "mp3",
        wmode: "window",
        useStateClassSkin: true,
        autoBlur: false,
        smoothPlayBar: true,
        keyEnabled: true,
        remainingDuration: true,
        toggleDuration: true
        });
});
</script>

