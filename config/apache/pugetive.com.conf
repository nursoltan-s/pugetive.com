<VirtualHost *:80>
  ServerName assets.pugetive.com
  Include sites-available/shared_assets.conf
</VirtualHost>

<VirtualHost *:80>
  ServerName public.pugetive.com
  DocumentRoot /home/deployer/apps/pugetive/current/public
  <Directory />
      Options -Indexes
      AllowOverride None
      allow from all
      Require all granted
  </Directory>
</VirtualHost>


<IfModule mod_ssl.c>
<VirtualHost *:443>
  ServerName assets.pugetive.com

  Include sites-available/shared_ssl.conf
  Include sites-available/shared_assets.conf

  # http://stackoverflow.com/questions/14003332/access-control-allow-origin-wildcard-subdomains-ports-and-protocols
  # SetEnvIf Origin ^(https?://.+\.experi.com(?::\d{1,5})?)$   CORS_ALLOW_ORIGIN=$1
  # Header append Access-Control-Allow-Origin  %{CORS_ALLOW_ORIGIN}e   env=CORS_ALLOW_ORIGIN
  # Header merge  Vary "Origin"
</VirtualHost>
</IfModule>


<VirtualHost *:80>
  ServerName pugetive.com
  ServerAlias *.pugetive.com

  RailsEnv production

  Include sites-available/shared_web.conf
</VirtualHost>

<IfModule mod_ssl.c>
<VirtualHost *:443>
  ServerName pugetive.com
  ServerAlias *.pugetive.com

  RailsEnv production

  Include sites-available/shared_ssl.conf
  Include sites-available/shared_web.conf
</VirtualHost>
</IfModule>


